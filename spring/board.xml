<?xml version="1.0" encoding="UTF-8"?>

<!-- mybatis 매퍼 DTD 문서 정의 태그 -->
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd"
>

<mapper namespace="Board">
	<!-- 게시판 저장  -->
	<!-- parameterType="board"는 mybatis-config.xml 에 설정한 BoardVO 자바빈 클래스의 별칭을 넣어주면 된다. -->
	<insert id="board_in" parameterType="board">
		insert into tbl_board (bno, writer, title, content, regdate) values(bno_seq11.nextval, #{writer}, #{title}, #{content}, sysdate)
	</insert>
	
	<!-- 총 게시물 수 -->
	<!-- resultType="int"는 반환 타입을 지정, ParameterType은 전달받을 인자값이 없기 때문에 쓰지 않음 -->
	<select id="board_count" resultType="int">
		<!-- 오라클에서 count() 함수는 레코드 개수를 반환한다. -->
		select count(*) from tbl_board 
	</select>
	
	<!-- 목록 -->
	<!-- resultType에 List<BoardVO>를 반환하기 때문에 BoardVO의 별칭인 board를 반환 타입으로 지정 -->
	<select id="b_list" resultType="board">
		select * from tbl_board order by bno desc
	</select>
</mapper>